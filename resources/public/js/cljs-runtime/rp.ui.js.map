{"version":3,"sources":["rp/ui.cljs"],"mappings":"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","names":["rp.ui/set-row","mesocycle","microcycle","workout","exercise","set-index","weight","reagent.core.atom","reps","logged","rp.db/get-set-log","p1__49666#","p1__49667#","completed?","or__5002__auto__","cljs.core/deref","cljs.core/reset!","_","cljs.core/seq","rp.db/log-set!","js/parseFloat","js/parseInt","p__49668","vec__49669","cljs.core.nth","rp.ui/exercise-card","exercise-name","sets","iter__5480__auto__","s__49673","cljs.core/LazySeq","temp__5823__auto__","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__49675","cljs.core/chunk-buffer","i__49674","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__49672","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","idx","cljs.core.range","p__49676","vec__49677","rp.ui/workout-section","day","exercises","cljs.core/name","clojure.string/capitalize","s__49681","b__49683","i__49682","iter__49680","ex","p__49684","vec__49685","rp.ui/microcycle-section","workouts","s__49689","b__49691","i__49690","iter__49688","rp.ui/app","map__49692","cljs.core/--destructure-map","cljs.core.get","name","microcycles","rp.plan/plan","s__49694","b__49696","i__49695","iter__49693","micro","cljs.core/chunk-first"],"sourcesContent":["(ns rp.ui\n  (:require [reagent.core :as r]\n            [rp.db :as db]\n            [rp.plan :as plan]\n            [clojure.string :as str]))\n\n(defn set-row\n  \"A single set with weight/reps inputs.\"\n  [mesocycle microcycle workout exercise set-index]\n  (let [weight (r/atom \"\")\n        reps (r/atom \"\")\n        logged (db/get-set-log mesocycle microcycle workout exercise set-index)]\n    (fn []\n      (let [completed? (some? (:event/performed-weight logged))]\n        [:form {:style {:display \"flex\" :gap \"0.5rem\" :align-items \"center\" :margin-bottom \"0.5rem\"}}\n         [:input {:type \"number\"\n                  :placeholder \"kg\"\n                  :value (or (:event/performed-weight logged) @weight)\n                  :disabled completed?\n                  :on-change #(reset! weight (-> % .-target .-value))\n                  :style {:width \"5rem\"}}]\n         [:span \"\u00d7\"]\n         [:input {:type \"number\"\n                  :placeholder \"reps\"\n                  :value (or (:event/performed-reps logged) @reps)\n                  :disabled completed?\n                  :on-change #(reset! reps (-> % .-target .-value))\n                  :style {:width \"4rem\"}}]\n         [:input {:type \"checkbox\"\n                  :checked completed?\n                  :disabled completed?\n                  :on-change (fn [_]\n                               (when (and (seq @weight) (seq @reps))\n                                 (db/log-set!\n                                  {:mesocycle mesocycle\n                                   :microcycle microcycle\n                                   :workout workout\n                                   :exercise exercise\n                                   :set-index set-index\n                                   :weight (js/parseFloat @weight)\n                                   :reps (js/parseInt @reps)})))}]\n         (when completed?\n           [:span \"\u2713\"])]))))\n\n(defn exercise-card\n  \"An exercise with its sets.\"\n  [mesocycle microcycle workout [exercise-name sets]]\n  [:article {:key exercise-name}\n   [:h4 exercise-name]\n   (for [idx (range (count sets))]\n     ^{:key idx}\n     [set-row mesocycle microcycle workout exercise-name idx])])\n\n(defn workout-section\n  \"A workout day with its exercises.\"\n  [mesocycle microcycle [day exercises]]\n  [:section {:key (name day)}\n   [:h3 (str/capitalize (name day))]\n   (for [ex exercises]\n     ^{:key (first ex)}\n     [exercise-card mesocycle microcycle (name day) ex])])\n\n(defn microcycle-section\n  \"A week with its workouts.\"\n  [[idx workouts] mesocycle]\n  [:section {:key idx}\n   [:h2 (str \"Week \" (inc idx))]\n   (for [workout (seq workouts)]\n     ^{:key (first workout)}\n     [workout-section mesocycle idx workout])])\n\n(defn app\n  \"Main app component.\"\n  []\n  (let [{:keys [name microcycles]} plan/plan]\n    [:main.container\n     [:header\n      [:h1 name]\n      [:p \"Track your workout progression\"]]\n     \n     (for [micro microcycles]\n       ^{:key (first micro)}\n       [microcycle-section micro name])\n     \n     [:footer {:style {:margin-top \"2rem\" :text-align \"center\"}}\n      [:small \"Romance Progression \u2022 Local-first PWA\"]]]))\n"]}